[{"D:\\SEGP\\staff\\src\\index.js":"1","D:\\SEGP\\staff\\src\\reportWebVitals.js":"2","D:\\SEGP\\staff\\src\\component\\App.js":"3","D:\\SEGP\\staff\\src\\component\\Home.js":"4","D:\\SEGP\\staff\\src\\sharedComponent\\Header.js":"5","D:\\SEGP\\staff\\src\\component\\SportComplex.js":"6","D:\\SEGP\\staff\\src\\component\\LoginPage.js":"7","D:\\SEGP\\staff\\src\\api\\api.js":"8","D:\\SEGP\\staff\\src\\auth\\ProtectedRoute.js":"9","D:\\SEGP\\staff\\src\\component\\NotFound.js":"10","D:\\SEGP\\staff\\src\\component\\Settings.js":"11","D:\\SEGP\\staff\\src\\hooks\\FullPageLoader.jsx":"12"},{"size":600,"mtime":1608724465959,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1608560160593,"results":"15","hashOfConfig":"14"},{"size":753,"mtime":1611305218931,"results":"16","hashOfConfig":"14"},{"size":3830,"mtime":1611496583428,"results":"17","hashOfConfig":"14"},{"size":991,"mtime":1611305168358,"results":"18","hashOfConfig":"14"},{"size":8704,"mtime":1611590240335,"results":"19","hashOfConfig":"14"},{"size":2743,"mtime":1611592016988,"results":"20","hashOfConfig":"14"},{"size":1599,"mtime":1611493330132,"results":"21","hashOfConfig":"14"},{"size":1948,"mtime":1611493329478,"results":"22","hashOfConfig":"14"},{"size":124,"mtime":1611304663182,"results":"23","hashOfConfig":"14"},{"size":3000,"mtime":1611567846742,"results":"24","hashOfConfig":"14"},{"size":450,"mtime":1611309151215,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"kygz4s",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"D:\\SEGP\\staff\\src\\index.js",[],["52","53"],"D:\\SEGP\\staff\\src\\reportWebVitals.js",[],"D:\\SEGP\\staff\\src\\component\\App.js",[],"D:\\SEGP\\staff\\src\\component\\Home.js",[],"D:\\SEGP\\staff\\src\\sharedComponent\\Header.js",[],"D:\\SEGP\\staff\\src\\component\\SportComplex.js",[],"D:\\SEGP\\staff\\src\\component\\LoginPage.js",["54"],"D:\\SEGP\\staff\\src\\api\\api.js",[],"D:\\SEGP\\staff\\src\\auth\\ProtectedRoute.js",["55"],"import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport {api} from \"../api/api\";\r\n\r\nfunction ProtectedRoute({ component: Component, authed, ...rest }) {\r\n  const [auth, setAuth] = useState(false);\r\n  const [isTokenValidated, setIsTokenValidated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let accessToken = Cookies.get(\"accessToken\");\r\n    let refreshToken = Cookies.get(\"refreshToken\");\r\n    if (accessToken) {\r\n      api\r\n        .get(\"/auth/verifyUser\", {\r\n          headers: {\r\n            Authorization: `Bearer ${accessToken}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            console.log(res.data)\r\n            setAuth(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n            var status \r\n            if(err.response){\r\n                status = err.response.status\r\n            }\r\n          if (status === 401) {\r\n            api\r\n              .get(\"/auth/token\", {\r\n                params: {\r\n                  refreshToken: refreshToken,\r\n                },\r\n              })\r\n              .then((res) => {\r\n                Cookies.set(\"accessToken\", res.data.accessToken);\r\n                setAuth(true);\r\n              })\r\n              .catch((err) => {\r\n                Cookies.remove(\"accessToken\");\r\n                Cookies.remove(\"refreshToken\");\r\n                setAuth(false);\r\n              });\r\n          } else {\r\n            setAuth(false);\r\n          }\r\n        })\r\n        .then(() => setIsTokenValidated(true));\r\n    } else {\r\n      setIsTokenValidated(true); // in case there is no token\r\n    }\r\n  }, []);\r\n\r\n  if (!isTokenValidated) return <div />;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        auth ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","D:\\SEGP\\staff\\src\\component\\NotFound.js",[],"D:\\SEGP\\staff\\src\\component\\Settings.js",[],"D:\\SEGP\\staff\\src\\hooks\\FullPageLoader.jsx",[],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":6,"column":10,"nodeType":"62","messageId":"63","endLine":6,"endColumn":16},{"ruleId":"60","severity":1,"message":"64","line":2,"column":17,"nodeType":"62","messageId":"63","endLine":2,"endColumn":23},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'render' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","no-global-assign","no-unsafe-negation"]